---
title: "Problem Set 2"
author: "Westley Cook"
date: "2/11/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(fivethirtyeight)
library(lintr)

# Loading the tidyverse and fivethirtyeight packages because the pset said
# I would need them. Loading lintr because the tidyverse style guide said it
# would perform automated checks to make sure I was conforming to the style
# guide, and I anticipate needing help to not lose points on style issues
# since I've never done this before.

```


```{r exploring_data, include = FALSE}

# glimpse(x)

# Trying to get a sense for what this dataframe looks like.

# summary(x)

# Trying another approach to see what the dataframe looks like

```


## Mad Libs

```{r madlib_1, include=FALSE}

# Will use this r chunk to set up a variable for mad lib 1 to make plugging
# into r insert easy and to make this code more readable.

endorsements_2020

# Renaming endorsements_2020 as x so it's easier to call as I work on the
# rest of the pset.

first_date <- endorsements_2020 %>% 
                arrange(date) %>% 
                slice(1) %>% 
                pull(date)

# Ran the arrange() command and figured out what the date was, and then labored
# over it for a long time before I asked for help and Evelyn told me about the
# slice() command I could use to isolate a single row of the dataframe.
# So I sliced it to keep just the first row, then pulled the value from the
# date column and named it first_date so I could slot it in nicely for
# the Mad Lib.

```

1. The earliest date for an endorsement in the dataset is **`r first_date`**.

```{r madlib_2, include = FALSE}

most_recent_date <- endorsements_2020 %>% 
                      arrange(desc(date)) %>% 
                      slice(1) %>% 
                      pull(date)

# Same process as for Mad Lib 1, but adding desc() to reverse the order and
# give me the most recent date instead of the oldest one.

```

2. The most recent date for an endorsement is **`r most_recent_date`**.

```{r madlib_3, include = FALSE}

mayor <- filter(endorsements_2020, 
        position == "mayor", 
        endorsee == "Pete Buttigieg") %>% 
  pull(endorser)

# Filtered first by position to narrow the data to only the mayors who have
# given endorsements. Then added the argument endorsee == "Pete Buttigieg"
# to isolate only the one mayor who endorsed him. Used pull() command
# to grab that mayor's name and assign it to the variable "mayor", which
# I then placed in an embedded r in mad lib 3.

```


3. **`r mayor`** is the mayor that has endorsed Pete Buttigieg.

```{r madlib_4, include = FALSE}

points_from_nh <- endorsements_2020 %>% 
                        filter(state == "NH") %>% 
                        pull(points)

nh_avg_points <- mean(points_from_nh)
                        

```

4. Endorsers from New Hampshire have an average of **`r nh_avg_points`** endorsement points.

```{r madlib_5, include = FALSE}



```

5. Between them, the two female candidates who remain in the race (Amy Klobuchar and Elizabeth Warren) have a total of X endorsement points.

6a. The variable “position” is a X class of variable.

6b. The variable “endorser” is a X class of variable.

6c. The variable “points” is a X class of variable.



## Graph Replication





Worked with:
- Owen Bernstein
- Lindsey Greenhill
- Katelyn Li